version: v3.1
modules:
    - name: backbone
      services:
#        - zookeeper-v2:5.4.1
#        - kafka-v2:5.4.1
#        - kafka-connect:5.4.1
#        - kafka-connect-restart-tasks
#        - elasticsearch-data
#        - elasticsearch-master
#        - kibana-v1
    - name: authn-authz
      services:
        - redis
        - ingress-nginx
        - cert-manager
    - name: core
      dependencies:
        - "backbone"
        - "authn-authz"    
      services:
        - mcd89/egov-accesscontrol:v1.1.4-9b70cfb44-1
        - mcd89/egov-enc-service-db:v1.1.4-6e6795ed4-2
        - mcd89/egov-filestore-db:v1.2.5-9b70cfb44-1
        - mcd89/egov-idgen-db:v1.2.4-9b70cfb44-1
        - mcd89/egov-indexer-db:v1.1.8-9b70cfb4-1
        - mcd89/egov-localization-db:v1.1.4-9b70cfb44-1
        - mcd89/egov-location-db:v1.1.5-9b70cfb44-1
        - mcd89/egov-mdms-service:v1.3.3-64da31c86e-1
        - upyogio/egov-notification-mail:v1.1.3-64da31c86e-4
        - mcd89/egov-notification-sms:v1.1.4-c8a7d5347-1
        - mcd89/egov-otp-db:v1.2.3-9b70cfb44-1
        - upyogio/egov-persister:v1.1.5-64da31c86e-17
        - mcd89/egov-pg-service-db:v1.2.4-aef0ce679-3
        - mcd89/egov-searcher:v1.1.6-9b70cfb4-1
        - mcd89/egov-url-shortening-db:v1.1.3-9b70cfb44-1
        - mcd89/egov-user-db:v1.3.0-15b09b019-35
        - mcd89/user-otp:v1.1.6-c8a7d5347-2
        - mcd89/egov-workflow-v2-db:v1.2.2-7c1d8b2a6-3
        - mcd89/pdf-service-db:v1.2.1-9b70cfb4-1
        - mcd89/report:v1.3.6-2d4099a42-5
        - upyogio/playground:1.0
        - mcd89/mdms-v2-db:niua-dev-04fcd4d23d-2 #Replace this image with prodction version mdms v2 image
    - name: business
      dependencies:
        - "core"
      services:
        - mcd89/collection-services-db:v1.1.7-9b70cfb44-2
        - mcd89/billing-service-db:v1.3.5-9b70cfb44-4
        - mcd89/egf-instrument-db:v1.1.4-e138def21-4
        - mcd89/egf-master-db:v1.1.3-9b70cfb44-1
        - mcd89/egov-apportion-service-db:v1.1.5-9b70cfb44-1
        - mcd89/egov-hrms-db:v1.2.6-fdaf45258-18
        - upyogio/finance-collections-voucher-consumer-db:v1.1.6-64da31c86e-4
    - name: utilities
      dependencies:
        - "core"
      services:
#        - upyogio/egov-custom-consumer:2.8-02737c2864-2
#        - upyogio/egov-pdf:v1.2.1-13739443aa-39
    - name: "frontend"             
      dependencies:
        - "business"
      services:
#        - upyogio/citizen:v1.10.0-beta-3f2fe9abc7-10
        - mcd89/employee:v1.10.0-beta-18b93bec2-37
        - mcd89/digit-ui:v1.7.0-beta.2-f640035de-82 
        - mcd89/workbench-ui:v1.8.0-3a703f89b-2 #Replace this image with prodction version workbench UI image
#    - name: m_pgr             #PGR
#      dependencies:
#        - "core"
#        - "business"
#      services:
#        - upyogio/pgr-services:v1.1.8-12ed7886c8-37
#        - upyogio/citizen:v1.10.0-beta-3f2fe9abc7-10
#        - upyogio/employee:v1.10.0-beta-3f2fe9abc7-17
#        - upyogio/digit-ui:v1.7.0-beta.2-cf0dafd7b8-405
#        - mcd89/zuul:v1.3.2-9b70cfb44-3
#    - name: m_property-tax    #PT
#      dependencies:
#        - "core"
#        - "business"
#      services:
#        - upyogio/property-services:v1.2.2-ee21fcd52a-92
#        - upyogio/pt-calculator-v2:v1.1.6-67d07eba52-37
#        - upyogio/pt-services-v2:workbench-55a21a3bb7-11
#        - mcd89/zuul:v1.3.2-9b70cfb44-3
#    - name: m_trade-license    #TL
#      dependencies:
#          - "core"
#          - "business"
#      services:
#        - upyogio/tl-calculator:v1.1.5-64da31c86e-6
#        - upyogio/tl-services:v1.1.9-462c24adb1-42   
#        - upyogio/zuul:v1.3.2-3f038e780d-16
    - name: m_finance         #Finance
      dependencies:
          - "core"
      services:
          - mcd89/egov-finance:dev-v18112025
